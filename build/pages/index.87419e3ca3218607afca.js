webpackJsonp([0],{"+ptz":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("NavBar",{attrs:{account:t.account}}),r("div",{staticClass:"so-back"},[t._m(0),r("LoginForm"),r("label",{staticClass:"network_label",attrs:{for:"network_field"}},[t._v("Network")]),r("div",{staticClass:"so-dropdown sendSetup__memo__memoSetup__dropdown"},[r("span",{staticClass:"s-inputGroup__item s-inputGroup__item--tag sendSetup__memo__memoSetup__selectTag"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.network,expression:"network"}],staticClass:"sendSetup__memo__memoSetup__selectTag__select so-dropdown__select",attrs:{id:"network_field"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.network=e.target.multiple?r:r[0]},t.switchNetwork]}},[r("option",{attrs:{value:"production"}},[t._v("horizon.stellar.org")]),r("option",{attrs:{value:"development"}},[t._v("horizon-testnet.stellar.org")])])])])],1)],1)};n._withStripped=!0;var o={render:n,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{},[e("h2",{staticClass:"welcomeBox__title",staticStyle:{"margin-bottom":"0.5em"}},[this._v("Web Wallet")]),e("p",[this._v("A lightweight wallet that integrates with decentralized apps and enables one click purchases. It's MetaMask for the Stellar network.")])])}]};e.a=o},"/NdP":function(t,e,r){var n=r("l1xt");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);r("rjj0")("05aba852",n,!1,{sourceMap:!1})},"/TYz":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("1bSE"),o=r.n(n);for(var a in n)"default"!==a&&function(t){r.d(e,t,function(){return n[t]})}(a);var s=r("+ptz"),i=!1;var l=function(t){i||r("/NdP")},c=r("VU/8")(o.a,s.a,!1,l,null,null);c.options.__file="pages/index.vue",e.default=c.exports},"1bSE":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(r("56lY")),o=i(r("GLTl")),a=r("pnVp"),s=i(r("bdDp"));function i(t){return t&&t.__esModule?t:{default:t}}e.default={middleware:"loggedIn",components:{LoginForm:n.default,NavBar:o.default},methods:{switchNetwork:function(){(0,a.switchNetwork)(this.network)}},created:function(){var t=this;s.default.getItem("pay.meta.re::network").then(function(e){t.network="https://horizon.stellar.org"==e?"production":"development"})},data:function(){return{login:null,account:this.$store.state.account,network:void 0}}}},"56lY":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("Gqm7"),o=r.n(n);for(var a in n)"default"!==a&&function(t){r.d(e,t,function(){return n[t]})}(a);var s=r("laOt"),i=!1;var l=function(t){i||r("5lEj")},c=r("VU/8")(o.a,s.a,!1,l,null,null);c.options.__file="components/LoginForm.vue",e.default=c.exports},"5lEj":function(t,e,r){var n=r("db2V");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);r("rjj0")("e3cdf3d6",n,!1,{sourceMap:!1})},GLTl:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("QxtO"),o=r.n(n);for(var a in n)"default"!==a&&function(t){r.d(e,t,function(){return n[t]})}(a);var s=r("Y3xP"),i=!1;var l=function(t){i||r("d6rc")},c=r("VU/8")(o.a,s.a,!1,l,null,null);c.options.__file="components/NavBar.vue",e.default=c.exports},Gqm7:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("Qx8R"),o=(a(n),r("pnVp"),a(r("bdDp")));function a(t){return t&&t.__esModule?t:{default:t}}e.default={name:"LoginForm",data:function(){return{secret:void 0,processing:!1,alert:!1}},methods:{handleSubmit:function(){var t=this;this.processing=!0,this.alert=void 0;try{var e=n.Keypair.fromSecret(this.secret).publicKey();this.processing=!1;var r={secret:this.secret,address:e};this.$store.commit("login",r),o.default.getItem("pay.meta.re::redirect").then(function(e){o.default.removeItem("pay.meta.re::redirect"),t.$router.push(e||"/dashboard")})}catch(t){console.error(t),this.processing=!1,this.alert={title:"Invalid secret key",text:'Secret keys are uppercase and begin with the letter "S."'}}}}}},QxtO:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=r("bdDp"),a=(n=o)&&n.__esModule?n:{default:n};e.default={name:"NavBar",props:["account"],methods:{logout:function(){a.default.removeItem("pay.meta.re::account"),a.default.removeItem("pay.meta.re::redirect"),this.$store.commit("logout"),this.$router.push("/")}}}},Y3xP:function(t,e,r){"use strict";var n=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"so-back"},[e("div",{staticClass:"so-chunk"},[e("div",{staticClass:"so-siteHeader siteHeader"},[this._m(0),this.account?e("span",{staticClass:"so-siteHeader__simpleAlign",staticStyle:{float:"right","font-size":"16px"}},[e("a",{attrs:{href:"#"},on:{click:this.logout}},[this._v("Sign out")])]):this._e()])])])};n._withStripped=!0;var o={render:n,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"so-logo"},[e("a",{staticClass:"so-logo__main"},[e("img",{staticClass:"logo",attrs:{src:"/images/logo.png"}})])])}]};e.a=o},Zrlr:function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},d6rc:function(t,e,r){var n=r("iFRm");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);r("rjj0")("4621fd42",n,!1,{sourceMap:!1})},db2V:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"",""])},iFRm:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,".logo{height:24px;vertical-align:middle}.so-siteHeader{padding:10px 0}",""])},l1xt:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"body{min-width:500px}.loginBox{border-radius:2px;border-bottom:1px solid #9ce1f5;margin-bottom:2em}label.network_label{display:block;margin-bottom:5px}",""])},laOt:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"loginBox",on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[r("p",{staticClass:"loginBox__label"},[t._v("Secret key:")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.secret,expression:"secret",modifiers:{trim:!0}}],staticClass:"loginBox__input",attrs:{type:"password",placeholder:"Example: SCHKBJ............ZLJ7"},domProps:{value:t.secret},on:{input:function(e){e.target.composing||(t.secret=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t.alert?r("div",{staticClass:"s-alert s-alert--alert"},[r("span",[t._v("\n        "+t._s(t.alert.title)),r("br"),r("br"),t._v("\n        "+t._s(t.alert.text)+"\n      ")])]):t._e(),r("button",{staticClass:"s-button loginBox__submit",class:{"is-disabled":t.processing},attrs:{type:"submit",disabled:t.processing}},[t._v("Sign in")])])};n._withStripped=!0;var o={render:n,staticRenderFns:[]};e.a=o},pnVp:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BalanceFeed=e.server=void 0;var n=u(r("Zrlr")),o=u(r("wxAW"));e.switchNetwork=function(t){"production"==t?(e.server=p=new a.default.Server("https://horizon.stellar.org"),s.default.setItem("pay.meta.re::network","https://horizon.stellar.org")):(e.server=p=new a.default.Server("https://horizon-testnet.stellar.org"),s.default.setItem("pay.meta.re::network","https://horizon-testnet.stellar.org"))},e.createBalanceFeed=function(t,e){v?v.setOptions(e):v=new f(t,e);return v},e.streamPrice=function(t){var e=function(){return i.default.get(d).then(function(e){var r=e.data[0];t.commit("priceUpdate",r)}).catch(console.error)};m||(m=setInterval(e,6e5));e()};var a=u(r("Qx8R")),s=u(r("bdDp")),i=u(r("mtWM")),l=u(r("M4fF")),c=r("uotZ");function u(t){return t&&t.__esModule?t:{default:t}}var d="https://api.coinmarketcap.com/v1/ticker/stellar/",p=e.server=void 0;s.default.getItem("pay.meta.re::network").then(function(t){e.server=p=new a.default.Server(t||"https://horizon.stellar.org")});var f=e.BalanceFeed=function(){function t(e,r){(0,n.default)(this,t),this.store=e,this.setOptions(r),this.accountAddress=void 0}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t||{}}},{key:"start",value:function(t){return this.accountAddress=t,p.accounts().accountId(t).stream({onmessage:this.onmessage.bind(this),onerror:this.onStreamError.bind(this)})}},{key:"loadAccount",value:function(t){var e=this;p.loadAccount(t).then(function(t){return e.onBalanceChange(t.balances)}).catch(function(t){if("NotFoundError"!==t.name)throw t;e.onBalanceChange(null)})}},{key:"onBalanceChange",value:function(t){this.options.onBalanceChange&&this.options.onBalanceChange(t);var e=void 0;if(l.default.isArray(t)&&t.length>0){var r=(0,l.default)(t).find(function(t){return"native"===t.asset_type});e=r?r.balance:0}else e=0;this.store.commit("balanceUpdate",{balance:e,balanceDisplay:new c.BigNumber(e).toFormat()})}},{key:"onStreamError",value:function(t){this.options.onStreamError&&this.options.onStreamError(t),this.loadAccount(this.accountAddress)}},{key:"onmessage",value:function(t){this.onBalanceChange(t.balances)}}]),t}(),v=void 0;var m=void 0;a.default.Network.useTestNetwork()},wxAW:function(t,e,r){"use strict";e.__esModule=!0;var n,o=r("C4MV"),a=(n=o)&&n.__esModule?n:{default:n};e.default=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,a.default)(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}()}});