webpackJsonp([2],{"67AM":function(t,e,a){var n=a("Ufq7");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("5129fd84",n,!1,{sourceMap:!1})},"9G8b":function(t,e,a){"use strict";var n=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"so-back dashboardOverviewBack"},[this.balance?e("div",{staticClass:"so-chunk"},[e("div",{staticClass:"dashboardOverviewRow"},[e("nuxt-link",{attrs:{to:"/dashboard"}},[e("p",{staticClass:"dashboardOverviewRow__label"},[this._v("Your balance:")])]),e("p",{staticClass:"dashboardOverviewRow__text"},[this._v(this._s(this.balance.balanceDisplay)+" lumens")])],1)]):this._e()])};n._withStripped=!0;var s={render:n,staticRenderFns:[]};e.a=s},EPgg:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionError=void 0;var n=l(a("Xxa5")),s=l(a("exGp")),i=l(a("Zrlr")),o=l(a("wxAW")),r=l(a("OvRC")),c=a("Qx8R"),u=a("pnVp"),d=a("uotZ");function l(t){return t&&t.__esModule?t:{default:t}}var m=e.TransactionError=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.name="TransactionError",this.type=e.type,this.message=t,this.description=e.description,this.stack=(new Error).stack,this.context=e.context};m.prototype=(0,r.default)(Error.prototype);var f=function(){function t(e,a){var n=a.to,s=a.amount,o=a.memo,r=a.memoType,c=void 0===r?"MEMO_TEXT":r;(0,i.default)(this,t),this.account=e,this.loadedAccount=void 0,this.lastTransactionXDR=void 0,this.createNewAccount=!1,this.destination=n,this.amount=s,this.memo=o,this.memoType=c}return(0,o.default)(t,[{key:"checkMinimumBalance",value:function(t){this.loadedAccount=t;var e=1+.5*t.subentry_count,a=t.balances.find(function(t){return"native"===t.asset_type}).balance,n=new d.BigNumber(a).minus(e);if(n.lt(this.amount))throw new m("Insufficient balance.",{description:'To maintain your <a href="https://www.stellar.org/developers/learn/concepts/fees.html#minimum-balance" target="_blank">minimum balance</a>, the most you can currently send is '+n+"."})}},{key:"checkDestinationExists",value:function(){var t=this;return u.server.loadAccount(this.destination).catch(function(e){if("NotFoundError"===e.name){if(new d.BigNumber(t.amount).gte(1))return void(t.createNewAccount=!0);throw new m("Destination account doesn't exist.",{description:"You account must send at least 1 lumens to create an account."})}throw e})}},{key:"formatMemo",value:function(){var t=c.Memo.none();if(void 0!==this.memo&&null!==this.memo)switch(this.memoType){case"MEMO_TEXT":t=c.Memo.text(this.memo);break;case"MEMO_ID":t=c.Memo.id(this.memo);break;case"MEMO_HASH":t=c.Memo.hash(this.memo);break;case"MEMO_RETURN":t=c.Memo.returnHash(this.memo)}return t}},{key:"validate",value:function(){if(!this.destination)throw new m("No address provided");try{c.Keypair.fromPublicKey(this.destination)}catch(t){throw new m("Stellar address or public key is invalid.",{description:'Public keys are uppercase and begin with the letter "G."'})}if(!c.Operation.isValidAmount(this.amount))throw new m("This amount is invalid.");if(void 0!==this.memo&&null!==this.memo){var t=void 0;try{switch(this.memoType){case"MEMO_ID":t="MEMO_ID must be a valid 64 bit unsigned integer",c.Memo.id(this.memo);break;case"MEMO_HASH":t="MEMO_HASH must be a 32 byte hash represented in hexadecimal (A-Z0-9)",c.Memo.hash(this.memo);break;case"MEMO_RETURN":t="MEMO_RETURN must be a 32 byte hash represented in hexadecimal (A-Z0-9)",c.Memo.returnHash(this.memo);break;default:t="MEMO_TEXT must contain a maximum of 28 characters",c.Memo.text(this.memo)}}catch(e){throw new m(t)}}return u.server.loadAccount(this.account.address).then(this.checkMinimumBalance.bind(this)).then(this.checkDestinationExists.bind(this)).catch(function(t){throw"NotFoundError"==t.name?new m("Your account isn't funded."):t})}},{key:"send",value:function(){var t=(0,s.default)(n.default.mark(function t(){var e,a,s;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.validate();case 2:return e=void 0,e=this.createNewAccount?c.Operation.createAccount({destination:this.destination,startingBalance:this.amount}):c.Operation.payment({destination:this.destination,asset:c.Asset.native(),amount:this.amount}),a=this.formatMemo(),(s=new c.TransactionBuilder(this.loadedAccount).addOperation(e).addMemo(a).build()).sign(c.Keypair.fromSecret(this.account.secret)),this.lastTransactionXDR=s.toEnvelope().toXDR().toString("base64"),t.abrupt("return",u.server.submitTransaction(s));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"resubmit",value:function(){if(null!==this.lastTransactionXDR){var t=new c.Transaction(this.lastTransactionXDR);return u.server.submitTransaction(t)}}}]),t}();e.default=f},OvRC:function(t,e,a){t.exports={default:a("oM7Q"),__esModule:!0}},Ufq7:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,'.dashboardOverviewBack{margin-bottom:36px}.sendConfirm__address{padding:0}.sendConfirm,.sendOutcome{padding-left:36px;padding-right:36px}.sendWaiting__rocket{padding:10px 0}.sendConfirm{margin-bottom:0}.sa{width:140px;height:140px;padding:26px;margin:auto}.sa,.sa-success{background-color:#fff}.sa-success{border-radius:50%;border:4px solid #a5dc86;-webkit-box-sizing:content-box;box-sizing:content-box;height:80px;padding:0;position:relative;width:80px}.sa-success:after,.sa-success:before{background:#fff;content:"";height:120px;position:absolute;-webkit-transform:rotate(45deg);transform:rotate(45deg);width:60px}.sa-success:before{border-radius:40px 0 0 40px;width:26px;height:80px;top:-17px;left:5px;-webkit-transform-origin:60px 60px;transform-origin:60px 60px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.sa-success:after{border-radius:0 120px 120px 0;left:30px;top:-11px;-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.sa-success-placeholder{border-radius:50%;border:4px solid hsla(98,55%,69%,.25);-webkit-box-sizing:content-box;box-sizing:content-box;height:80px;left:-4px;position:absolute;top:-4px;width:80px;z-index:2}.sa-success-fix{background-color:#fff;height:90px;left:28px;position:absolute;top:8px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);width:5px;z-index:1}.sa-success-long,.sa-success-tip{background-color:#a5dc86;border-radius:2px;height:5px;position:absolute;z-index:2}.sa-success-tip{left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);width:25px;-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.sa-success-long{right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);width:47px;-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes animateSuccessTip{0%,54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%,54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%,65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%,65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@-webkit-keyframes rotatePlaceholder{0%,5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%,to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%,5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%,to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}.spinner{margin:25px auto;width:50px;height:60px;text-align:center;font-size:10px}.spinner>div{background-color:#eee;margin-right:1px;height:100%;width:6px;display:inline-block;-webkit-animation:sk-stretchdelay 1.2s infinite ease-in-out;animation:sk-stretchdelay 1.2s infinite ease-in-out}.spinner .rect2{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.spinner .rect3{-webkit-animation-delay:-1s;animation-delay:-1s}.spinner .rect4{-webkit-animation-delay:-.9s;animation-delay:-.9s}.spinner .rect5{-webkit-animation-delay:-.8s;animation-delay:-.8s}@-webkit-keyframes sk-stretchdelay{0%,40%,to{-webkit-transform:scaleY(.4)}20%{-webkit-transform:scaleY(1)}}@keyframes sk-stretchdelay{0%,40%,to{transform:scaleY(.4);-webkit-transform:scaleY(.4)}20%{transform:scaleY(1);-webkit-transform:scaleY(1)}}',""])},Zrlr:function(t,e,a){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},aBlc:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=a("Dd8w"),i=(n=s)&&n.__esModule?n:{default:n},o=a("pnVp"),r=a("NYxO");e.default={data:function(){return{balanceFeed:void 0,showRefreshButton:void 0,accountNotFound:void 0}},mounted:function(){this.account&&this.loadBalance(this.account)},beforeDestroy:function(){this.closeFeed&&this.closeFeed()},methods:{loadBalance:function(t){var e=this;if(!t)throw"account not ready";this.balanceFeed=(0,o.createBalanceFeed)(this.$store,{onBalanceChange:function(t){e.accountNotFound=null===t},onStreamError:function(t){"EventSource not supported"===t&&(e.showRefreshButton=!0)}}),this.closeFeed=this.balanceFeed.start(t.address),(0,o.streamPrice)(this.$store)},loadAccount:function(){this.balanceFeed&&this.account&&this.balanceFeed.loadAccount(this.account.address)}},watch:{account:function(t,e){t&&t!=e&&this.loadBalance(t)}},computed:(0,i.default)({},(0,r.mapGetters)(["account","balance","xlmPrice"]),{usdValue:function(){if(this.account)return this.$store.getters.usdValue(this.balance.balance)}})}},acti:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=a("aBlc"),i=(n=s)&&n.__esModule?n:{default:n};e.default={mixins:[i.default]}},eiu5:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("acti"),s=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);var o=a("9G8b"),r=a("VU/8")(s.a,o.a,!1,null,null,null);r.options.__file="components/BalancePreview.vue",e.default=r.exports},"ic/q":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=d(a("Dd8w")),s=d(a("woOf")),i=d(a("Xxa5")),o=d(a("exGp")),r=(d(a("M4fF")),d(a("EPgg"))),c=d(a("eiu5")),u=a("NYxO");a("pnVp"),a("uotZ");function d(t){return t&&t.__esModule?t:{default:t}}var l={status:void 0,success:void 0,error:void 0,outcomeMessage:void 0,needsResubmit:void 0};e.default={name:"Transaction",components:{BalancePreview:c.default},middleware:"authenticated",methods:{send:function(){var t=this;return(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("loading"!=t.status){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t.status="loading",t.transaction=new r.default(t.account,{to:t.to,amount:t.amount,memo:t.memo}),e.next=7,t.transaction.send();case 7:e.sent,t.resetTransaction({success:!0,status:"sent"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),t.handleError(e.t0);case 14:case"end":return e.stop()}},e,t,[[2,11]])}))()},handleError:function(t){console.error(t),this.error=t,this.success=!1,this.outcomeMessage=t.message+" "+t.description,this.status="sent","Transaction Failed"!=t.title&&"Transaction Malformed"!=t.title&&(this.needsResubmit=!0)},resubmitTransaction:function(){var t=this;return(0,o.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.transaction.resubmit();case 3:t.resetTransaction({success:!0,status:"sent"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t.handleError(e.t0);case 9:case"end":return e.stop()}},e,t,[[0,6]])}))()},resetTransaction:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,l,t)}},data:function(){return(0,n.default)({showOutcome:!1,to:this.$route.query.to,amount:this.$route.query.amount,memo:this.$route.query.memo,memoType:this.$route.query.memoType||"MEMO_TEXT",transaction:void 0},l,{validationErrors:void 0})},computed:(0,n.default)({},(0,u.mapGetters)(["account","xlmPrice"]),{usdValue:function(){if(parseInt(this.amount))return this.$store.getters.usdValue(this.amount)}})}},mSZW:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("ic/q"),s=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);var o=a("sqDW"),r=!1;var c=function(t){r||a("67AM")},u=a("VU/8")(s.a,o.a,!1,c,null,null);u.options.__file="pages/transaction.vue",e.default=u.exports},oM7Q:function(t,e,a){a("sF+V");var n=a("FeBl").Object;t.exports=function(t,e){return n.create(t,e)}},pnVp:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BalanceFeed=e.server=void 0;var n=d(a("Zrlr")),s=d(a("wxAW"));e.switchNetwork=function(t){t==m?(e.server=h=new i.default.Server(m),o.default.setItem("pay.meta.re::network",m)):(e.server=h=new i.default.Server(f),o.default.setItem("pay.meta.re::network",f))},e.createBalanceFeed=function(t,e){v?v.setOptions(e):v=new p(t,e);return v},e.streamPrice=function(t){var e=function(){return r.default.get(l).then(function(e){var a=e.data[0];t.commit("priceUpdate",a)}).catch(console.error)};b||(b=setInterval(e,6e5));e()};var i=d(a("Qx8R")),o=d(a("bdDp")),r=d(a("mtWM")),c=d(a("M4fF")),u=a("uotZ");d(a("vdRI"));function d(t){return t&&t.__esModule?t:{default:t}}var l="https://api.coinmarketcap.com/v1/ticker/stellar/",m="https://horizon.stellar.org",f="https://horizon-testnet.stellar.org",h=e.server=void 0;o.default.getItem("pay.meta.re::network").then(function(t){e.server=h=new i.default.Server(t||m)});var p=e.BalanceFeed=function(){function t(e,a){(0,n.default)(this,t),this.store=e,this.setOptions(a),this.accountAddress=void 0}return(0,s.default)(t,[{key:"setOptions",value:function(t){this.options=t||{}}},{key:"start",value:function(t){return this.accountAddress=t,h.accounts().accountId(t).stream({onmessage:this.onmessage.bind(this),onerror:this.onStreamError.bind(this)})}},{key:"loadAccount",value:function(t){var e=this;h.loadAccount(t).then(function(t){return e.onBalanceChange(t.balances)}).catch(function(t){if("NotFoundError"!==t.name)throw t;e.onBalanceChange(null)})}},{key:"onBalanceChange",value:function(t){this.options.onBalanceChange&&this.options.onBalanceChange(t);var e=void 0;if(c.default.isArray(t)&&t.length>0){var a=(0,c.default)(t).find(function(t){return"native"===t.asset_type});e=a?a.balance:0}else e=0;this.store.commit("balanceUpdate",{balance:e,balanceDisplay:new u.BigNumber(e).toFormat()})}},{key:"onStreamError",value:function(t){this.options.onStreamError&&this.options.onStreamError(t),this.loadAccount(this.accountAddress)}},{key:"onmessage",value:function(t){this.onBalanceChange(t.balances)}}]),t}(),v=void 0;var b=void 0;i.default.Network.useTestNetwork()},"sF+V":function(t,e,a){var n=a("kM2E");n(n.S,"Object",{create:a("Yobk")})},sqDW:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("BalancePreview"),a("div",{staticClass:"sendConfirm"},[a("p",{staticClass:"sendConfirm__addressLabel"},[t._v("You're sending to this public key:")]),a("p",{staticClass:"sendConfirm__address"},[t._v(t._s(t.to))]),a("div",{staticClass:"sendConfirm__sendingContainer"},[a("div",{staticClass:"sendConfirm__sendingContainer__label"},[t._v("Sending")]),a("div",{staticClass:"sendConfirm__sendingContainer__amount"},[a("span",{staticClass:"sendConfirm__sendingContainer__amount__info"},[t._v(t._s(t.amount))]),a("br"),a("span",{staticClass:"sendConfirm__sendingContainer__amount__label"},[t._v("lumens "),t.usdValue?a("span",[t._v("($"+t._s(t.usdValue)+" USD)")]):t._e()])])]),t.memo?a("div",{staticClass:"sendConfirm__sendingContainer"},[a("div",{staticClass:"sendConfirm__sendingContainer__label"},[t._v("Memo")]),a("div",{staticClass:"sendConfirm__sendingContainer__amount"},[a("span",{staticClass:"sendConfirm__sendingContainer__amount__helper"},[t._v(t._s(t.memoType)+":")]),a("br"),a("span",{staticClass:"sendConfirm__sendingContainer__amount__info"},[t._v(t._s(t.memo))])])]):t._e(),t.validationErrors?a("div",{staticClass:"s-alert s-alert--warning"},t._l(t.validationErrors,function(e){return a("span",{key:e.message},[t._v("\n        "+t._s(e.message)+" "+t._s(e.description)+"\n      ")])})):t._e(),t.status?t._e():a("button",{staticClass:"s-button sendConfirm__submit",attrs:{disabled:"loading"==t.status},on:{click:t.send}},[t._v("Submit transaction")])]),"loading"==t.status?a("div",{staticClass:"sendWaiting"},[t._m(0),a("p",{staticClass:"sendWaiting__status"},[t._v("Submitting transaction to the network...")])]):t._e(),"sent"==t.status?a("div",{staticClass:"sendOutcome"},[t.success?a("div",[t._m(1),a("p",{staticClass:"sendOutcome__label"},[t._v("Transaction successfully completed")])]):t._e(),t.success?t._e():a("div",[a("p",{staticClass:"sendOutcome__label"},[t._v("Transaction failed")]),t.needsResubmit?a("p",{},[a("strong",[t._v("Warning")]),t._v(" We submitted your transaction to the network but because of the network conditions we are\n        not certain about it's status: it could either succeed or fail. Instead of recreating the transaction you should use\n        the button below to safely resubmit the transaction:"),a("br"),a("br"),a("button",{staticClass:"s-button sendConfirm__submit",on:{click:t.resubmitTransaction}},[t._v("Resubmit transaction")])]):t._e()]),t.outcomeMessage?a("div",{staticClass:"sendOutcome__code"},[a("code",[t._v(t._s(t.outcomeMessage))])]):t._e(),a("nuxt-link",{attrs:{to:"/dashboard"}},[a("p",{staticClass:"text-center"},[t._v("‹ Dashboard")])])],1):t._e()],1)};n._withStripped=!0;var s={render:n,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sendWaiting__rocket"},[e("div",{staticClass:"spinner"},[e("div",{staticClass:"rect1"}),e("div",{staticClass:"rect2"}),e("div",{staticClass:"rect3"}),e("div",{staticClass:"rect4"}),e("div",{staticClass:"rect5"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sa"},[e("div",{staticClass:"sa-success"},[e("div",{staticClass:"sa-success-tip"}),e("div",{staticClass:"sa-success-long"}),e("div",{staticClass:"sa-success-placeholder"}),e("div",{staticClass:"sa-success-fix"})])])}]};e.a=s},wxAW:function(t,e,a){"use strict";e.__esModule=!0;var n,s=a("C4MV"),i=(n=s)&&n.__esModule?n:{default:n};e.default=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}()}});